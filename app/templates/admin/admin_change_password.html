{% extends 'base.html' %}

{% block head %}
<title>Change Admin Password</title>
{% endblock %}

{% block body %}
<div class="form-container">
    <h1>Change Password</h1>

    {% with messages = get_flashed_messages(with_categories=True) %}
    {% if messages %}
    <ul class="flash-messages">
        {% for category, message in messages %}
        <li class="{{ category }}">{{ message }}</li>
        {% endfor %}
    </ul>
    {% endif %}
    {% endwith %}

    <form action="{{ url_for('auth.change_password') }}" method="POST">
        <!-- Use url_for for better practice -->
        <label for="current_password">Current Password:</label>
        <input type="password" name="current_password" id="current_password" required>

        <label for="new_password">New Password:</label>
        <input type="password" name="new_password" id="new_password" required>

        <label for="confirm_password">Confirm New Password:</label>
        <input type="password" name="confirm_password" id="confirm_password" required>

        <input type="submit" value="Change Password">
    </form>
</div>
<style>
    .flash-messages {
        list-style-type: none;
        padding: 0;
        margin: 10px 0;
    }

    .flash-messages li {
        padding: 10px;
        border-radius: 5px;
        margin-bottom: 10px;
    }

    .flash-messages li.success {
        background-color: #d4edda;
        color: #155724;
    }

    .flash-messages li.danger {
        background-color: #f8d7da;
        color: #721c24;
    }
</style>
{% endblock %}