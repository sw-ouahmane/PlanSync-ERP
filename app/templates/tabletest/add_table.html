<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Data to Table X</title>
    <style>
        .form-row {
            margin-bottom: 10px;
        }
    </style>
</head>

<body>
    <h1>Add Data to Table X</h1>

    <form action="{{ url_for('test.add_tablex') }}" method="POST" id="tableForm">
        <div id="formContainer">
            <div class="form-row">
                <label for="a">Column A:</label>
                <input type="text" id="a" name="a" required>
                <br><br>

                <label for="b">Column B:</label>
                <input type="text" id="b" name="b" required>
            </div>
        </div>

        <br>

        <!-- Button to add another row -->
        <button type="button" id="addRowBtn">Add Another Row</button>
        <br><br>

        <button type="submit">Submit</button>
    </form>

    <script>
        document.getElementById('addRowBtn').addEventListener('click', function () {
            const formContainer = document.getElementById('formContainer');

            // Create a new form row (div)
            const newRow = document.createElement('div');
            newRow.classList.add('form-row');

            // Create input for Column A
            const newLabelA = document.createElement('label');
            newLabelA.textContent = 'Column A:';
            const newInputA = document.createElement('input');
            newInputA.type = 'text';
            newInputA.name = 'a';  // You may need to modify the name to use arrays like a[] if you're submitting multiple rows.
            newInputA.required = true;

            // Create input for Column B
            const newLabelB = document.createElement('label');
            newLabelB.textContent = 'Column B:';
            const newInputB = document.createElement('input');
            newInputB.type = 'text';
            newInputB.name = 'b';  // Same here for b[]
            newInputB.required = true;

            // Add the inputs and labels to the new row
            newRow.appendChild(newLabelA);
            newRow.appendChild(newInputA);
            newRow.appendChild(document.createElement('br'));  // Add line break
            newRow.appendChild(newLabelB);
            newRow.appendChild(newInputB);

            // Append the new row to the form container
            formContainer.appendChild(newRow);
        });
    </script>
</body>

</html>